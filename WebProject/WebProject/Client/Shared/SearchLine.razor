@inject IJSRuntime JSRuntime
@inject IShipSearchService SearchService

<h3>Search</h3>

<div class="card" style="width: 30%; box-shadow: 0 0 20px 8px #d0d0d0; margin-left:48%; position:absolute">
    <div class="card-body">

        <EditForm OnSubmit="@HandleSearch">
            <div class="form-group">
                <label>From:</label>
                <InputDate @bind-Value="From" class="form-control"></InputDate>
            </div>
            <div class="form-group">
                <label>Until:</label>
                <InputDate @bind-Value="Until" class="form-control"></InputDate>
            </div>
            <div class="form-group">
                <label>Persons</label>
                <InputNumber @bind-Value="Persons" class="form-control"></InputNumber>
            </div>
            <div class="form-group">
                <label>Port</label>
                <InputText @bind-Value="Port" class="form-control"></InputText>
            </div>
            <button type="submit" class="btn btn-primary">Search!</button>
        </EditForm>
    </div>
</div>


@code {
    [Parameter]
    public ApplicationUserDTO PersonLoggedOn { get; set; }

    private DateTime? From { get; set; }
    private DateTime? Until { get; set; }
    private int? Persons { get; set; }
    private string Port { get; set; }

    async void HandleSearch()
    {
        //ez mire jó?
        //await JSRuntime.InvokeVoidAsync("console.log", r);

        await SearchService.GetShips();
    }
}
